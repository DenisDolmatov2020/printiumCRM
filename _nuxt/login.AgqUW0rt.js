import{D as p,G as f,A as g,H as w}from"./el-button.45Eq8tZY.js";import{E as h}from"./el-input.3_aQ5SdU.js";import{E as y,c as v,a as e,b as s,w as d,z as t,M as b,o as V,d as m}from"./entry.Tqj8lCA3.js";import{E as c}from"./el-notification.iE1XOv6I.js";import{u as k}from"./useAuth.B4FYNsEd.js";import"./plugin-vue_export-helper._h7skemH.js";import"./cookie.C2A_k74a.js";import"./useAuthUser.z1Xl-Uq0.js";const E=""+new URL("logo.WypKj2LX.svg",import.meta.url).href,x={class:"m-auto justify-between modal"},C={class:"column modal-column"},z=e("img",{src:E,width:"64",alt:"Логотип printum",class:"m-auto modal-column__img"},null,-1),B=e("span",{class:"m-auto modal-column__title"},"printum",-1),N=e("span",{class:"m-auto modal-column__type mt-32"}," Авторизация ",-1),U={class:"mt-20"},j=e("div",{class:"mb-12 modal-column__label"},"Логин",-1),L={class:"mt-20"},A=e("div",{class:"mb-12 modal-column__label row justify-between"},[e("div",null," Пароль "),e("div",{class:"modal-column__label-recovery"}," Восстановить пароль ")],-1),X={__name:"login",setup(D){const{login:u}=k(),o=y({data:{email:"ddd@ddd.com",password:"DenVik37"},error:"",pending:!1});async function _(){var l;try{o.error="",o.pending=!0;const a=await u(o.data.email,o.data.password);c({message:"Вход выполнен",icon:p,customClass:"success",offset:20,duration:6500}),await b("/")}catch(a){console.error(a),c({message:((l=a.data)==null?void 0:l.detail)||a.data,icon:f,customClass:"error",offset:20,duration:6500}),a.data.message&&(o.error=a.data.message)}finally{o.pending=!1}}return(l,a)=>{const n=g,i=h;return V(),v("div",x,[e("div",C,[s(n,{link:"",icon:t(w),type:"primary",class:"modal-column__back"},{default:d(()=>[m("Назад")]),_:1},8,["icon"]),z,B,N,e("div",U,[j,s(i,{modelValue:t(o).data.email,"onUpdate:modelValue":a[0]||(a[0]=r=>t(o).data.email=r),size:"large",placeholder:"User@email.ru"},null,8,["modelValue"])]),e("div",L,[A,s(i,{modelValue:t(o).data.password,"onUpdate:modelValue":a[1]||(a[1]=r=>t(o).data.password=r),type:"password",size:"large",placeholder:"1234567"},null,8,["modelValue"])]),s(n,{type:"info",size:"large",style:{"margin-top":"50px"},onClick:_},{default:d(()=>[m(" Войти ")]),_:1})])])}}};export{X as default};
