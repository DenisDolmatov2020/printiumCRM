import{az as d}from"./entry.Tqj8lCA3.js";import{u as r}from"./cookie.C2A_k74a.js";import{u as h}from"./useAuthUser.z1Xl-Uq0.js";const U=()=>{const a=d(),s=h(),t=e=>{s.value=e};return{login:async(e,l)=>{var n,u,i,c;const o=await $fetch(`${a.public.baseURL}/app/login/`,{method:"POST",body:{uname:e,upass:l},mode:"cors",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},credentials:"include"});t(o.d.user);const m=r("cookie");m.value=(u=(n=o==null?void 0:o.d)==null?void 0:n.user)==null?void 0:u.key;const p=r("monitoring_session_id");return p.value=(c=(i=o==null?void 0:o.d)==null?void 0:i.user)==null?void 0:c.key,s},logout:async()=>{const e=await $fetch("/auth/logout",{method:"POST"});t(e.user)}}};export{U as u};
